{"version":3,"file":"index.umd.js","sources":["../src/core/EventEmitter.ts","../src/core/APIClient.ts","../src/core/ProviderRegistry.ts","../src/core/ProviderLoader.ts","../src/utils/logger.ts","../src/utils/errors.ts","../src/utils/validators.ts","../src/constants/index.ts","../src/providers/base/BaseProvider.ts","../src/constants/providers.ts","../src/utils/dom.ts","../src/providers/socure/SocureSDKLoader.ts","../src/providers/socure/SocureEventMapper.ts","../src/providers/socure/SocureProvider.ts","../src/types/providers.ts","../src/core/VecuIDV.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["EventEmitter","constructor","this","events","Map","on","event","handler","has","set","Set","get","add","off","handlers","delete","size","emit","data","vecuEvent","type","timestamp","Date","forEach","error","once","onceHandler","evt","removeAllListeners","clear","listenerCount","eventNames","Array","from","keys","APIClient","config","baseUrl","replace","baseHeaders","apiKey","createVerificationSession","request","method","body","JSON","stringify","getVerificationSession","sessionId","updateVerificationSession","getVerificationResult","cancelVerification","endpoint","options","retries","maxRetries","retryDelay","fetchOptions","url","controller","AbortController","timeoutId","setTimeout","abort","timeout","response","fetchWithRetry","headers","signal","clearTimeout","contentType","isJson","includes","ok","json","message","text","success","code","status","details","Error","name","lastError","attempt","fetch","statusText","delay","Math","pow","random","Promise","resolve","updateConfig","ProviderRegistry","providers","register","provider","unregister","destroy","getAll","values","getByFeature","feature","filter","supportedFeatures","getLoadedProviders","isLoaded","ProviderLoader","registry","sdkInstance","loadingPromises","load","existingPromise","existingProvider","socureProvider","socureDocVSDK","sdkLoader","loadPromise","loadProvider","providerModule","importProvider","ProviderClass","default","capitalize","loadSDK","setupProviderEventForwarding","now","then","SocureProvider$1","map","p","str","charAt","toUpperCase","slice","Logger","level","enabled","prefix","logLevels","warn","info","debug","args","log","shouldLog","toISOString","setLevel","setEnabled","createChildLogger","VecuError","super","captureStackTrace","toJSON","stack","ValidationError","undefined","ProviderError","TimeoutError","validateConfig","length","apiUrl","parsed","URL","protocol","isValidUrl","environment","theme","language","logLevel","validateVerificationOptions","user","userData","email","test","phone","dateOfBirth","date","isNaN","getTime","isValidDate","firstName","lastName","address","validFields","key","value","Object","entries","postalCode","validateAddress","validateUserData","container","document","querySelector","HTMLElement","mode","preferredProvider","excludeProviders","isArray","every","requiredFeatures","f","callbacks","callback","validateCallbacks","DEFAULT_CONFIG","autoRetry","BaseProvider","_isLoaded","activeUI","eventEmitter","logger","mapEvent","String","cleanupSDK","loadScript","globalName","reject","window","script","createElement","src","async","crossOrigin","onload","onerror","head","appendChild","createUIContainer","parentContainer","className","setAttribute","style","cssText","removeUIContainer","parentNode","removeChild","emitProviderEvent","handleProviderError","context","vecuError","validateInitOptions","token","PROVIDER_CONFIGS","socure","scriptUrl","PROVIDER_EVENTS","attributes","tagName","element","startsWith","SocureSDKLoader","isDestroyed","getInstance","instance","SocureDocVSDK","timeoutMs","timeoutPromise","_","crossorigin","sdk","race","getSDK","querySelectorAll","remove","SocureEventMapper","socureEvent","eventType","eventMap","mapEventData","mapCompleteData","mapErrorData","mapDocumentCaptureData","mapLivenessData","mapQRCodeData","referenceId","documentData","number","documentNumber","issuingCountry","expirationDate","livenessData","passed","score","confidence","fraudSignals","fraud","overallRisk","mapRiskLevel","signals","risk","description","side","quality","qrCodeUrl","sessionUrl","expiresAt","mapWebhookData","webhookData","decision","documentVerification","selfieVerification","mapDecision","documentType","documentFields","livenessScore","mapConfidence","completedAt","updatedAt","init","ready","start","document_front_capture","document_back_capture","document_processing","liveness_start","liveness_processing","liveness_complete","complete","close","qr_code_displayed","mobile_handoff","getCompletionMessage","mobileNumber","customerUserId","version","activeSession","initializeVerification","firstChild","el","hasSDK","sdkType","methods","sdkKey","publicKey","docvTransactionToken","uiContainer","socureConfig","onProgress","handleProgressEvent","onSuccess","mappedEvent","fallbackEventData","result","onError","errorCode","toLowerCase","qrCodeNeeded","qrCode","containerId","id","containerSelector","session","launch","launchError","verificationUI","destroySession","processWebhookData","mappedData","metadata","processedAt","iframe","mappedType","WAITING_FOR_USER_TO_REDIRECT","WAITING_FOR_UPLOAD","DOCUMENTS_UPLOADED","eventData","deviceSessionToken","step","percentage","SDK_INIT","SDK_READY","SDK_ERROR","SDK_DESTROY","PROVIDER_LOADED","PROVIDER_READY","PROVIDER_ERROR","PROVIDER_EVENT","VERIFICATION_CREATED","VERIFICATION_STARTED","VERIFICATION_PROGRESS","VERIFICATION_COMPLETED","VERIFICATION_FAILED","VERIFICATION_CANCELLED","VERIFICATION_EXPIRED","UI_CREATED","UI_READY","UI_ERROR","UI_CLOSED","UI_DESTROYED","INVALID_API_KEY","MISSING_CONFIG","INVALID_CONFIG","SDK_NOT_INITIALIZED","SDK_INIT_FAILED","SDK_ALREADY_INITIALIZED","PROVIDER_NOT_FOUND","PROVIDER_LOAD_FAILED","PROVIDER_SDK_LOAD_FAILED","PROVIDER_INIT_FAILED","PROVIDER_NOT_SUPPORTED","SESSION_NOT_FOUND","SESSION_EXPIRED","SESSION_CREATE_FAILED","SESSION_ALREADY_EXISTS","VERIFICATION_TIMEOUT","INVALID_CONTAINER","UI_INIT_FAILED","NETWORK_ERROR","TIMEOUT_ERROR","API_ERROR","INVALID_OPTIONS","INVALID_USER_DATA","MISSING_REQUIRED_FIELD","DOCUMENT_VERIFICATION","LIVENESS_CHECK","FACE_MATCH","ADDRESS_VERIFICATION","DATABASE_CHECK","PHONE_VERIFICATION","EMAIL_VERIFICATION","QR_CODE_HANDOFF","VIDEO_VERIFICATION","initialized","providerRegistry","providerLoader","activeSessions","apiConfig","apiClient","createVerification","setupVerificationEventHandlers","resolveContainer","ui","providerSessionId","providerConfig","getVerificationStatus","eventEmitterInstance","getAvailableProviders","getProvider","catch","div","onReady","onComplete","onCancel","_sessionId"],"mappings":"oPAEaA,EAGX,WAAAC,GACEC,KAAKC,OAAS,IAAIC,GACpB,CAEO,EAAAC,CAAGC,EAAeC,GAClBL,KAAKC,OAAOK,IAAIF,IACnBJ,KAAKC,OAAOM,IAAIH,EAAO,IAAII,KAE7BR,KAAKC,OAAOQ,IAAIL,GAAQM,IAAIL,EAC9B,CAEO,GAAAM,CAAIP,EAAeC,GACxB,MAAMO,EAAWZ,KAAKC,OAAOQ,IAAIL,GAC7BQ,IACFA,EAASC,OAAOR,GACM,IAAlBO,EAASE,MACXd,KAAKC,OAAOY,OAAOT,GAGzB,CAEO,IAAAW,CAAKX,EAAeY,GACzB,MAAMJ,EAAWZ,KAAKC,OAAOQ,IAAIL,GACjC,GAAIQ,EAAU,CACZ,MAAMK,EAAwB,CAC5BC,KAAMd,EACNe,UAAW,IAAIC,KACfJ,QAGFJ,EAASS,QAAShB,IAChB,IACEA,EAAQY,EACV,CAAE,MAAOK,GAET,GAEJ,CAGc,MAAVlB,GACFJ,KAAKe,KAAK,IAAK,CAAEG,KAAMd,EAAOY,QAElC,CAEO,IAAAO,CAAKnB,EAAeC,GACzB,MAAMmB,EAA8BC,IAClCzB,KAAKW,IAAIP,EAAOoB,GAChBnB,EAAQoB,IAEVzB,KAAKG,GAAGC,EAAOoB,EACjB,CAEO,kBAAAE,CAAmBtB,GACpBA,EACFJ,KAAKC,OAAOY,OAAOT,GAEnBJ,KAAKC,OAAO0B,OAEhB,CAEO,aAAAC,CAAcxB,GACnB,MAAMQ,EAAWZ,KAAKC,OAAOQ,IAAIL,GACjC,OAAOQ,EAAWA,EAASE,KAAO,CACpC,CAEO,UAAAe,GACL,OAAOC,MAAMC,KAAK/B,KAAKC,OAAO+B,OAChC,QClEWC,EAIX,WAAAlC,CAAYmC,GACVlC,KAAKkC,OAAS,IACTA,EACHC,QAASD,EAAOC,QAAQC,QAAQ,MAAO,KAGzCpC,KAAKqC,YAAc,CACjB,eAAgB,mBAChB,YAAaH,EAAOI,OACpB,gBAAiB,QACjB,iBAAkB,MAEtB,CAEO,+BAAMC,CACXvB,GAEA,OAAOhB,KAAKwC,QAA8B,yBAA0B,CAClEC,OAAQ,OACRC,KAAMC,KAAKC,UAAU5B,IAEzB,CAEO,4BAAM6B,CACXC,GAEA,OAAO9C,KAAKwC,QAA8B,0BAA0BM,IACtE,CAEO,+BAAMC,CACXD,EACA9B,GAEA,OAAOhB,KAAKwC,QAA8B,0BAA0BM,IAAa,CAC/EL,OAAQ,QACRC,KAAMC,KAAKC,UAAU5B,IAEzB,CAEO,2BAAMgC,CACXF,GAEA,OAAO9C,KAAKwC,QAA6B,0BAA0BM,WACrE,CAEO,wBAAMG,CACXH,GAEA,OAAO9C,KAAKwC,QAAc,0BAA0BM,WAAoB,CACtEL,OAAQ,QAEZ,CAEQ,aAAMD,CACZU,EACAC,EAA0B,IAE1B,MAAMC,QAAEA,EAAUpD,KAAKkC,OAAOmB,WAAUC,WAAEA,EAAatD,KAAKkC,OAAOoB,cAAeC,GAAiBJ,EAE7FK,EAAM,GAAGxD,KAAKkC,OAAOC,UAAUe,IAC/BO,EAAa,IAAIC,gBACjBC,EAAYC,WAAW,IAAMH,EAAWI,QAAS7D,KAAKkC,OAAO4B,SAEnE,IACE,MAAMC,QAAiB/D,KAAKgE,eAC1BR,EACA,IACKD,EACHU,QAAS,IACJjE,KAAKqC,eACLkB,EAAaU,SAElBC,OAAQT,EAAWS,QAErBd,EACAE,GAGFa,aAAaR,GAEb,MAAMS,EAAcL,EAASE,QAAQxD,IAAI,gBACnC4D,EAASD,GAAaE,SAAS,oBAErC,IAAKP,EAASQ,GAAI,CAChB,MAAMjD,EAAQ+C,QAAeN,EAASS,OAAS,CAAEC,cAAeV,EAASW,QACzE,MAAO,CACLC,SAAS,EACTrD,MAAO,CACLsD,KAAMtD,EAAMsD,MAAQ,QAAQb,EAASc,SACrCJ,QAASnD,EAAMmD,SAAW,8BAA8BV,EAASc,SACjEC,QAASxD,EAAMwD,SAGrB,CAGA,MAAO,CACLH,SAAS,EACT3D,KAHWqD,QAAeN,EAASS,OAAS,KAKhD,CAAE,MAAOlD,GAGP,OAFA6C,aAAaR,GAETrC,aAAiByD,MACA,eAAfzD,EAAM0D,KACD,CACLL,SAAS,EACTrD,MAAO,CACLsD,KAAM,UACNH,QAAS,2BAA2BzE,KAAKkC,OAAO4B,cAK/C,CACLa,SAAS,EACTrD,MAAO,CACLsD,KAAM,gBACNH,QAASnD,EAAMmD,QACfK,QAASxD,IAKR,CACLqD,SAAS,EACTrD,MAAO,CACLsD,KAAM,gBACNH,QAAS,4BACTK,QAASxD,GAGf,CACF,CAEQ,oBAAM0C,CACZR,EACAL,EACAC,EACAE,GAEA,IAAI2B,EAA0B,KAE9B,IAAK,IAAIC,EAAU,EAAGA,GAAW9B,EAAS8B,IAAW,CACnD,IACE,MAAMnB,QAAiBoB,MAAM3B,EAAKL,GAGlC,GAAIY,EAASc,QAAU,KAAOd,EAASc,OAAS,IAC9C,OAAOd,EAIT,GAAIA,EAASQ,IAAMW,IAAY9B,EAC7B,OAAOW,EAGTkB,EAAY,IAAIF,MAAM,QAAQhB,EAASc,WAAWd,EAASqB,aAC7D,CAAE,MAAO9D,GAIP,GAHA2D,EAAY3D,EAGW,eAAnB2D,EAAUD,KACZ,MAAMC,CAEV,CAEA,GAAIC,EAAU9B,EAAS,CAErB,MAAMiC,EAAQ/B,EAAagC,KAAKC,IAAI,EAAGL,GAA2B,IAAhBI,KAAKE,eACjD,IAAIC,QAASC,GAAY9B,WAAW8B,EAASL,GACrD,CACF,CAEA,MAAMJ,GAAa,IAAIF,MAAM,+BAC/B,CAEO,YAAAY,CAAazD,GAClBlC,KAAKkC,OAAS,IAAKlC,KAAKkC,UAAWA,GAC/BA,EAAOI,SACTtC,KAAKqC,YAAc,IACdrC,KAAKqC,YACR,YAAaH,EAAOI,QAG1B,QClMWsD,EAGX,WAAA7F,GACEC,KAAK6F,UAAY,IAAI3F,GACvB,CAEO,QAAA4F,CAASC,GACd,IAAKA,EAASf,KACZ,MAAM,IAAID,MAAM,6BAId/E,KAAK6F,UAAUvF,IAAIyF,EAASf,OAE9BhF,KAAKgG,WAAWD,EAASf,MAG3BhF,KAAK6F,UAAUtF,IAAIwF,EAASf,KAAMe,EACpC,CAEO,UAAAC,CAAWhB,GAChB,MAAMe,EAAW/F,KAAK6F,UAAUpF,IAAIuE,GAChCe,IAEFA,EAASE,UACTjG,KAAK6F,UAAUhF,OAAOmE,GAE1B,CAEO,GAAAvE,CAAIuE,GACT,OAAOhF,KAAK6F,UAAUpF,IAAIuE,EAC5B,CAEO,MAAAkB,GACL,OAAOpE,MAAMC,KAAK/B,KAAK6F,UAAUM,SACnC,CAEO,GAAA7F,CAAI0E,GACT,OAAOhF,KAAK6F,UAAUvF,IAAI0E,EAC5B,CAEO,KAAArD,GAEL3B,KAAK6F,UAAUxE,QAAS0E,IACtBA,EAASE,YAEXjG,KAAK6F,UAAUlE,OACjB,CAEO,YAAAyE,CAAaC,GAClB,OAAOrG,KAAKkG,SAASI,OAAQP,GAC3BA,EAASQ,kBAAkBjC,SAAS+B,GAExC,CAEO,kBAAAG,GACL,OAAOxG,KAAKkG,SAASI,OAAQP,GAAaA,EAASU,SACrD,QCpDWC,EAKX,WAAA3G,CAAY4G,EAA4BC,GACtC5G,KAAK2G,SAAWA,EAChB3G,KAAK6G,gBAAkB,IAAI3G,IAC3BF,KAAK4G,YAAcA,CACrB,CAEO,UAAME,CAAK9B,GAEhB,MAAM+B,EAAkB/G,KAAK6G,gBAAgBpG,IAAIuE,GACjD,GAAI+B,EACF,OAAOA,EAIT,MAAMC,EAAmBhH,KAAK2G,SAASlG,IAAIuE,GAC3C,GAAIgC,GAAoBA,EAAiBP,SAAU,CAGjD,GAAa,WAATzB,EAUF,OAAOgC,EAVc,CACrB,MAAMC,EAAiBD,EACvB,GAAKC,EAAeC,eAAkBD,EAAeE,UAAUV,WAK7D,OAAOO,EAFPhH,KAAK2G,SAASX,WAAWhB,EAI7B,CAGF,CAGA,MAAMoC,EAAcpH,KAAKqH,aAAarC,GACtChF,KAAK6G,gBAAgBtG,IAAIyE,EAAMoC,GAE/B,IACE,MAAMrB,QAAiBqB,EAEvB,OADApH,KAAK6G,gBAAgBhG,OAAOmE,GACrBe,CACT,CAAE,MAAOzE,GAEP,MADAtB,KAAK6G,gBAAgBhG,OAAOmE,GACtB1D,CACR,CACF,CAEQ,kBAAM+F,CAAarC,GACzB,MAAMsC,QAAuBtH,KAAKuH,eAAevC,GAC3CwC,EAAgBF,EAAeG,SAAWH,EAAe,GAAGtH,KAAK0H,WAAW1C,cAElF,IAAKwC,EACH,MAAM,IAAIzC,MAAM,gCAAgCC,KAGlD,MAAMe,EAAW,IAAIyB,EAcrB,aAXMzB,EAAS4B,UAIf3H,KAAK4G,YAAYgB,6BAA6B7B,EAAU,QAAQf,KAAQ5D,KAAKyG,SAGxE7H,KAAK2G,SAASrG,IAAI0E,IACrBhF,KAAK2G,SAASb,SAASC,GAGlBA,CACT,CAEQ,oBAAMwB,CAAevC,GAC3B,OAAQA,GACN,IAAK,SACH,OAAOS,QAAAC,UAAAoC,KAAA,WAAA,OAAAC,CAAA,GACT,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,SAEH,MAAM,IAAIhD,MAAM,YAAYC,4BAC9B,QACE,MAAM,IAAID,MAAM,qBAAqBC,KAE3C,CAEO,QAAAyB,CAASzB,GACd,MAAMe,EAAW/F,KAAK2G,SAASlG,IAAIuE,GACnC,QAAOe,GAAWA,EAASU,QAC7B,CAEO,kBAAAD,GACL,OAAOxG,KAAK2G,SAASH,qBAAqBwB,IAAKC,GAAMA,EAAEjD,KACzD,CAEQ,UAAA0C,CAAWQ,GACjB,OAAOA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,MAAM,EACjD,QC5GWC,EAYX,WAAAvI,CAAYwI,EAAkB,OAAQC,GAAmB,EAAMC,EAAiB,aAP/DzI,KAAA0I,UAAsC,CACrDpH,MAAO,EACPqH,KAAM,EACNC,KAAM,EACNC,MAAO,GAIP7I,KAAKuI,MAAQA,EACbvI,KAAKwI,QAAUA,EACfxI,KAAKyI,OAASA,CAChB,CAEO,KAAAnH,CAAMmD,KAAoBqE,GAC/B9I,KAAK+I,IAAI,QAAStE,KAAYqE,EAChC,CAEO,IAAAH,CAAKlE,KAAoBqE,GAC9B9I,KAAK+I,IAAI,OAAQtE,KAAYqE,EAC/B,CAEO,IAAAF,CAAKnE,KAAoBqE,GAC9B9I,KAAK+I,IAAI,OAAQtE,KAAYqE,EAC/B,CAEO,KAAAD,CAAMpE,KAAoBqE,GAC/B9I,KAAK+I,IAAI,QAAStE,KAAYqE,EAChC,CAEQ,GAAAC,CAAIR,EAAiB9D,KAAoBqE,GAC/C,IAAK9I,KAAKwI,UAAYxI,KAAKgJ,UAAUT,GACnC,OAGF,MAAMpH,GAAY,IAAIC,MAAO6H,cACDjJ,KAAKyI,OAA0BF,EAAMH,aAgBnE,CAEQ,SAAAY,CAAUT,GAChB,OAAOvI,KAAK0I,UAAUH,IAAUvI,KAAK0I,UAAU1I,KAAKuI,MACtD,CAEO,QAAAW,CAASX,GACdvI,KAAKuI,MAAQA,CACf,CAEO,UAAAY,CAAWX,GAChBxI,KAAKwI,QAAUA,CACjB,CAEO,iBAAAY,CAAkBX,GACvB,OAAO,IAAIH,EAAOtI,KAAKuI,MAAOvI,KAAKwI,QAAS,GAAGxI,KAAKyI,UAAUA,IAChE,ECxEI,MAAOY,UAAkBtE,MAK7B,WAAAhF,CAAY6E,EAAcH,EAAiBsB,EAAmBjB,GAC5DwE,MAAM7E,GACNzE,KAAKgF,KAAO,YACZhF,KAAK4E,KAAOA,EACZ5E,KAAK+F,SAAWA,EAChB/F,KAAK8E,QAAUA,EAGXC,MAAMwE,mBACRxE,MAAMwE,kBAAkBvJ,KAAMqJ,EAElC,CAEO,MAAAG,GACL,MAAO,CACLxE,KAAMhF,KAAKgF,KACXJ,KAAM5E,KAAK4E,KACXH,QAASzE,KAAKyE,QACdsB,SAAU/F,KAAK+F,SACfjB,QAAS9E,KAAK8E,QACd2E,MAAOzJ,KAAKyJ,MAEhB,EAUI,MAAOC,UAAwBL,EACnC,WAAAtJ,CAAY0E,EAAiBK,GAC3BwE,MAAM,mBAAoB7E,OAASkF,EAAW7E,GAC9C9E,KAAKgF,KAAO,iBACd,EAUI,MAAO4E,UAAsBP,EACjC,WAAAtJ,CAAYgG,EAAkBtB,EAAiBK,GAC7CwE,MAAM,iBAAkB7E,EAASsB,EAAUjB,GAC3C9E,KAAKgF,KAAO,eACd,EAUI,MAAO6E,UAAqBR,EAChC,WAAAtJ,CAAY0E,EAAiBX,GAC3BwF,MAAM,gBAAiB7E,OAASkF,EAAW,CAAE7F,YAC7C9D,KAAKgF,KAAO,cACd,ECpEI,SAAU8E,EAAe5H,GAC7B,IAAKA,EACH,MAAM,IAAIwH,EAAgB,oCAG5B,IAAKxH,EAAOI,QAAmC,iBAAlBJ,EAAOI,OAClC,MAAM,IAAIoH,EAAgB,4CAG5B,GAAIxH,EAAOI,OAAOyH,OAAS,GACzB,MAAM,IAAIL,EAAgB,6CAG5B,GAAIxH,EAAO8H,QAAmC,iBAAlB9H,EAAO8H,OACjC,MAAM,IAAIN,EAAgB,4BAG5B,GAAIxH,EAAO8H,SAiKP,SAAqBxG,GACzB,IACE,MAAMyG,EAAS,IAAIC,IAAI1G,GACvB,MAAO,CAAC,QAAS,UAAUc,SAAS2F,EAAOE,SAC7C,CAAE,MACA,OAAO,CACT,CACF,CAxKwBC,CAAWlI,EAAO8H,QACtC,MAAM,IAAIN,EAAgB,8BAG5B,GAAIxH,EAAOmI,cAAgB,CAAC,cAAe,UAAW,cAAc/F,SAASpC,EAAOmI,aAClF,MAAM,IAAIX,EAAgB,gEAG5B,GAAIxH,EAAOoI,QAAU,CAAC,QAAS,OAAQ,QAAQhG,SAASpC,EAAOoI,OAC7D,MAAM,IAAIZ,EAAgB,2CAG5B,GAAIxH,EAAOqI,UAAuC,iBAApBrI,EAAOqI,SACnC,MAAM,IAAIb,EAAgB,iDAG5B,QAAuBC,IAAnBzH,EAAO4B,UACqB,iBAAnB5B,EAAO4B,SAAwB5B,EAAO4B,SAAW,GAC1D,MAAM,IAAI4F,EAAgB,qCAI9B,QAA0BC,IAAtBzH,EAAOmB,aACwB,iBAAtBnB,EAAOmB,YAA2BnB,EAAOmB,WAAa,GAC/D,MAAM,IAAIqG,EAAgB,6CAI9B,GAAIxH,EAAOsI,WAAa,CAAC,QAAS,OAAQ,OAAQ,SAASlG,SAASpC,EAAOsI,UACzE,MAAM,IAAId,EAAgB,qDAE9B,CAEM,SAAUe,EAA4BtH,GAC1C,IAAKA,EACH,MAAM,IAAIuG,EAAgB,qCAG5B,IAAKvG,EAAQuH,MAAgC,iBAAjBvH,EAAQuH,KAClC,MAAM,IAAIhB,EAAgB,+CAK5B,GAwCI,SAA2BiB,GAC/B,GAAIA,EAASC,QAuDcA,EAvDSD,EAASC,OAwD1B,6BACDC,KAAKD,IAxDrB,MAAM,IAAIlB,EAAgB,gCAsDxB,IAAuBkB,EAnD3B,GAAID,EAASG,QAwDcA,EAxDSH,EAASG,QA0D1B,oBACDD,KAAKC,IAAUA,EAAM1I,QAAQ,MAAO,IAAI2H,QAAU,IA1DlE,MAAM,IAAIL,EAAgB,+BAuDxB,IAAuBoB,EApD3B,GAAIH,EAASI,cA0DT,SAAsBC,GAE1B,IADkB,sBACHH,KAAKG,GAClB,OAAO,EAGT,MAAMf,EAAS,IAAI7I,KAAK4J,GACxB,OAAOf,aAAkB7I,OAAS6J,MAAMhB,EAAOiB,UACjD,CAlE+BC,CAAYR,EAASI,aAChD,MAAM,IAAIrB,EAAgB,iDAG5B,GAAIiB,EAASS,WAA2C,iBAAvBT,EAASS,UACxC,MAAM,IAAI1B,EAAgB,+BAG5B,GAAIiB,EAASU,UAAyC,iBAAtBV,EAASU,SACvC,MAAM,IAAI3B,EAAgB,8BAG5B,GAAIiB,EAASW,QAAS,CACpB,GAAgC,iBAArBX,EAASW,QAClB,MAAM,IAAI5B,EAAgB,8BAMhC,SAAyB4B,GACvB,MAAMC,EAAc,CAAC,SAAU,OAAQ,QAAS,aAAc,WAE9D,IAAK,MAAOC,EAAKC,KAAUC,OAAOC,QAAQL,GACxC,GAAIC,EAAYjH,SAASkH,SAAkB7B,IAAV8B,GAAwC,iBAAVA,EAC7D,MAAM,IAAI/B,EAAgB,WAAW8B,sBAIzC,GAAIF,EAAQM,YAA4C,iBAAvBN,EAAQM,aAgDTA,EA/CPN,EAAQM,aAiD1B,iBAAiBf,KAAKe,IAAeA,EAAW7B,QAAU,IAhD7D,MAAM,IAAIL,EAAgB,8BA8C1B,IAA4BkC,CA3ClC,CAlBIC,CAAgBlB,EAASW,QAC3B,CACF,CArEEQ,CAAiB3I,EAAQuH,MAErBvH,EAAQ4I,UACV,GAAiC,iBAAtB5I,EAAQ4I,UAAwB,CAEzC,IADgBC,SAASC,cAAc9I,EAAQ4I,WAE7C,MAAM,IAAIrC,EAAgB,sBAAsBvG,EAAQ4I,uBAE5D,MAAO,KAAM5I,EAAQ4I,qBAAqBG,aACxC,MAAM,IAAIxC,EAAgB,0DAI9B,GAAIvG,EAAQgJ,OAAS,CAAC,QAAS,YAAY7H,SAASnB,EAAQgJ,MAC1D,MAAM,IAAIzC,EAAgB,6CAG5B,GAAIvG,EAAQiJ,mBAA0D,iBAA9BjJ,EAAQiJ,kBAC9C,MAAM,IAAI1C,EAAgB,uCAG5B,GAAIvG,EAAQkJ,iBAAkB,CAC5B,IAAKvK,MAAMwK,QAAQnJ,EAAQkJ,kBACzB,MAAM,IAAI3C,EAAgB,sCAE5B,IAAKvG,EAAQkJ,iBAAiBE,MAAOtE,GAAmB,iBAANA,GAChD,MAAM,IAAIyB,EAAgB,yCAE9B,CAEA,GAAIvG,EAAQqJ,iBAAkB,CAC5B,IAAK1K,MAAMwK,QAAQnJ,EAAQqJ,kBACzB,MAAM,IAAI9C,EAAgB,sCAE5B,IAAKvG,EAAQqJ,iBAAiBD,MAAOE,GAAmB,iBAANA,GAChD,MAAM,IAAI/C,EAAgB,wCAE9B,EAkDF,SAA2BvG,GACzB,MAAMuJ,EAAY,CAAC,UAAW,aAAc,aAAc,UAAW,YAErE,IAAK,MAAMC,KAAYD,EAAW,CAChC,MAAMjB,EAAQtI,EAAQwJ,GACtB,QAAchD,IAAV8B,GAAwC,mBAAVA,EAChC,MAAM,IAAI/B,EAAgB,GAAGiD,uBAEjC,CACF,CAzDEC,CAAkBzJ,EACpB,CCpGO,MAGM0J,EAA0C,CACrD7C,OAAQ,0BACRK,YAAa,aACbC,MAAO,OACPC,SAAU,KACVuC,WAAW,EACXzJ,WAAY,EACZS,QAAS,IACT+E,OAAO,EACP2B,SAAU,eCFUuC,EAWpB,WAAAhN,GAJUC,KAAAgN,WAAqB,EACrBhN,KAAA4G,YAAmB,KACnB5G,KAAAiN,SAA2C,KAGnDjN,KAAKkN,aAAe,IAAIpN,EACxBE,KAAKmN,OAAS,IAAI7E,EAAO,QAAQ,EACnC,CAEA,YAAW7B,GACT,OAAOzG,KAAKgN,SACd,CAUO,QAAAI,CAAShN,GAEd,IAAKA,GAA0B,iBAAVA,EACnB,OAAO,KAGT,MAAMqB,EAAMrB,EACZ,MAAO,CACLc,KAAMmM,OAAO5L,EAAIP,MAAQ,WACzBF,KAAMS,EAAIT,MAAQS,EAClBN,UAAW,IAAIC,KAEnB,CAEO,OAAA6E,GAEDjG,KAAKiN,WACPjN,KAAKiN,SAAShH,UACdjG,KAAKiN,SAAW,MAIdjN,KAAK4G,cACP5G,KAAKsN,aACLtN,KAAK4G,YAAc,MAIjB5G,KAAKkN,cACPlN,KAAKkN,aAAaxL,qBAGpB1B,KAAKgN,WAAY,EACjBhN,KAAKmN,OAAOvE,KAAK,GAAG5I,KAAKgF,0BAC3B,CAIU,gBAAMuI,CAAW/J,EAAagK,GACtC,OAAO,IAAI/H,QAAQ,CAACC,EAAS+H,KAE3B,GAAID,GAAeE,OAAeF,GAGhC,OAFAxN,KAAKmN,OAAOvE,KAAK,GAAG5I,KAAKgF,gCACzBU,IAIF,MAAMiI,EAAS3B,SAAS4B,cAAc,UACtCD,EAAOE,IAAMrK,EACbmK,EAAOG,OAAQ,EACfH,EAAOI,YAAc,YAErBJ,EAAOK,OAAS,KACdhO,KAAKmN,OAAOvE,KAAK,GAAG5I,KAAKgF,gCACzBU,KAGFiI,EAAOM,QAAW3M,IAChBtB,KAAKmN,OAAO7L,MAAM,kBAAkBtB,KAAKgF,WAAY1D,GACrDmM,EAAO,IAAIpE,EACT,2BACA,kBAAkBrJ,KAAKgF,iBAAiBxB,OAI5CwI,SAASkC,KAAKC,YAAYR,IAE9B,CAEU,iBAAAS,CACRC,EACAlC,GAEA,MAAMJ,EAAYC,SAAS4B,cAAc,OAazC,OAZA7B,EAAUuC,UAAY,YAAYtO,KAAKgF,2BAA2BmH,IAClEJ,EAAUwC,aAAa,gBAAiBvO,KAAKgF,MAG7C+G,EAAUyC,MAAMC,QAAU,qBACH,UAATtC,EAAmB,QAAU,+DAG9B,UAATA,EAAmB,kCAAoC,WAG3DkC,EAAgBF,YAAYpC,GACrBA,CACT,CAEU,iBAAA2C,CAAkB3C,GACtBA,GAAaA,EAAU4C,YACzB5C,EAAU4C,WAAWC,YAAY7C,EAErC,CAEU,iBAAA8C,CAAkB3N,EAAcF,GACxC,MAAMZ,EAAwB,CAC5Bc,OACAF,OACAG,UAAW,IAAIC,MAGjBpB,KAAKkN,aAAanM,KAAKG,EAAMd,GAC7BJ,KAAKkN,aAAanM,KAAK,iBAAkBX,EAC3C,CAEU,mBAAA0O,CAAoBxN,EAAgByN,GAC5C,MAAMC,EAAY1N,aAAiB+H,EAC/B/H,EACA,IAAI+H,EACF,iBACA,GAAGrJ,KAAKgF,0BAA0B+J,MAChCzN,aAAiByD,MAAQzD,EAAMmD,QAAU4I,OAAO/L,KAElDtB,KAAKgF,MAWX,MARAhF,KAAKmN,OAAO7L,MAAM,GAAGtB,KAAKgF,sBAAuBgK,GACjDhP,KAAK6O,kBAAkB,iBAAkB,CACvCjK,KAAMoK,EAAUpK,KAChBH,QAASuK,EAAUvK,QACnBsB,SAAU/F,KAAKgF,KACf+J,YAGIC,CACR,CAEO,EAAA7O,CAAGC,EAAeC,GACvBL,KAAKkN,aAAa/M,GAAGC,EAAOC,EAC9B,CAEO,GAAAM,CAAIP,EAAeC,GACxBL,KAAKkN,aAAavM,IAAIP,EAAOC,EAC/B,CAEU,mBAAA4O,CAAoB9L,GAC5B,IAAKA,EAAQL,UACX,MAAM,IAAIuG,EAAU,kBAAmB,0BAGzC,IAAKlG,EAAQ+L,MACX,MAAM,IAAI7F,EAAU,kBAAmB,qBAGzC,KAAKlG,EAAQ4I,WAAe5I,EAAQ4I,qBAAqBG,aACvD,MAAM,IAAI7C,EAAU,kBAAmB,4CAGzC,IAAK,CAAC,QAAS,YAAY/E,SAASnB,EAAQgJ,MAC1C,MAAM,IAAI9C,EAAU,kBAAmB,4CAE3C,EChMK,MAAM8F,EAAmB,CAC9BC,OAAQ,CAGNC,UAAW,sCAEX9I,kBAAmB,CACjB,wBACA,iBACA,aACA,uBACA,iBACA,qBAsDO+I,EAEJ,QAFIA,EAGJ,QAHIA,EAKD,WALCA,EAMJ,QANIA,EAQJ,QARIA,EAWa,yBAXbA,EAYY,wBAZZA,EAaU,sBAbVA,EAiBK,iBAjBLA,EAkBU,sBAlBVA,EAmBQ,oBCkIf,SAAU/B,EAAWM,EAAa0B,GACtC,OAAO,IAAI9J,QAAQ,CAACC,EAAS+H,KAC3B,MAAME,WAxNR6B,EACAD,GAGA,MAAME,EAAUzD,SAAS4B,cAAc4B,GA0BvC,OAxBID,GACF7D,OAAOC,QAAQ4D,GAAYlO,QAAQ,EAAEmK,EAAKC,MAC5B,cAARD,EACFiE,EAAQnB,UAAY7C,EACH,UAARD,EACTiE,EAAQlB,aAAa,QAAS9C,GACrBD,EAAIkE,WAAW,SACxBD,EAAQlB,aAAa/C,EAAKC,GAEzBgE,EAAgBjE,GAAOC,IAevBgE,CACT,CAyLmB7B,CAAc,SAAU,CACrCC,MACAC,MAAO,UACJyB,IAGL5B,EAAOK,OAAS,IAAMtI,IACtBiI,EAAOM,QAAU,IAAMR,EAAO,IAAI1I,MAAM,0BAA0B8I,MAElE7B,SAASkC,KAAKC,YAAYR,IAE9B,OC/NagC,EAMX,WAAA5P,GAJQC,KAAAoH,YAA8C,KAC9CpH,KAAA4G,YAAqC,KACrC5G,KAAA4P,aAAuB,CAER,CAEhB,kBAAOC,GAIZ,OAHKF,EAAgBG,WACnBH,EAAgBG,SAAW,IAAIH,GAE1BA,EAAgBG,QACzB,CAEO,UAAMhJ,GAWX,IATI9G,KAAK4P,cAAiB5P,KAAK4G,aAAgB8G,OAAeqC,iBAE5D/P,KAAK4P,aAAc,EACnB5P,KAAK4G,YAAc,KACnB5G,KAAKoH,YAAc,YAEXsG,OAAeqC,eAGrB/P,KAAK4G,YACP,OAAO5G,KAAK4G,YAGd,GAAI5G,KAAKoH,YACP,OAAOpH,KAAKoH,YAGdpH,KAAKoH,YAAcpH,KAAK2H,UAExB,IAEE,OADA3H,KAAK4G,kBAAoB5G,KAAKoH,YACvBpH,KAAK4G,WACd,CAAE,MAAOtF,GAEP,MADAtB,KAAKoH,YAAc,KACb9F,CACR,CACF,CAEQ,aAAMqG,GACZ,MAAMzF,EAASiN,EAAiBC,OAC1B5B,EAAa,gBAGnB,GAAKE,OAAeF,GAClB,OAAQE,OAAeF,GAIzB,MAAMwC,EAAY,IACZC,EAAiB,IAAIxK,QAAe,CAACyK,EAAGzC,KAC5C7J,WAAW,KACT6J,EAAO,IAAI5D,EAAa,wCAAgDmG,KACvEA,KASC5I,EAAcmG,EALFvN,KAAK4P,YACnB,GAAG1N,EAAOmN,eAAejO,KAAKyG,QAC9B3F,EAAOmN,UAG+B,CACxC,gBAAiB,SACjBc,YAAa,cACZrI,KAAK,IAEC,IAAIrC,QAAwB,CAACC,EAAS+H,KAC3C7J,WAAW,KACT,MAAMwM,EAAO1C,OAAeF,GACvB4C,EAGH1K,EAAQ0K,GAFR3C,EAAO,IAAI1I,MAAM,uCAAuCyI,OAIzD,QAKP,OAAO/H,QAAQ4K,KAAK,CAACjJ,EAAa6I,GACpC,CAEO,QAAAxJ,GACL,OAA4B,OAArBzG,KAAK4G,WACd,CAEO,MAAA0J,GACL,OAAOtQ,KAAK4G,WACd,CAEO,OAAAX,GAELjG,KAAK4P,aAAc,EAGdlC,OAAeqC,sBACVrC,OAAeqC,cAIH/D,SAASuE,iBAAiB,oCAClClP,QAAQsM,IACpBA,EAAO6C,WAITxQ,KAAK4G,YAAc,KACnB5G,KAAKoH,YAAc,KAGnBuI,EAAgBG,SAAW,IAC7B,EArHeH,EAAAG,SAAmC,WCFvCW,EAkBJ,eAAOrD,CAASsD,GACrB,IAAKA,GAAsC,iBAAhBA,EACzB,OAAO,KAGT,MAAMC,EAAYD,EAAYxP,KAG9B,MAAO,CACLA,KAHiBlB,KAAK4Q,SAASD,IAAcA,EAI7C3P,KAAMhB,KAAK6Q,aAAaF,EAAWD,EAAY1P,MAC/CG,UAAW,IAAIC,KAAKsP,EAAYvP,WAAaC,KAAKyG,OAEtD,CAEQ,mBAAOgJ,CAAaF,EAA4B3P,GACtD,OAAQ2P,GACN,IAAK,WACH,OAAO3Q,KAAK8Q,gBAAgB9P,GAC9B,IAAK,QACH,OAAOhB,KAAK+Q,aAAa/P,GAC3B,IAAK,yBACL,IAAK,wBACH,OAAOhB,KAAKgR,uBAAuBhQ,GACrC,IAAK,oBACH,OAAOhB,KAAKiR,gBAAgBjQ,GAC9B,IAAK,oBACH,OAAOhB,KAAKkR,cAAclQ,GAC5B,QACE,OAAOA,EAEb,CAEQ,sBAAO8P,CAAgB9P,GAC7B,OAAKA,EAEE,CACL8B,UAAW9B,EAAKmQ,YAChBtM,OAAQ,YACRuM,aAAcpQ,EAAKoQ,aAAe,CAChClQ,KAAMF,EAAKoQ,aAAalQ,KACxBmQ,OAAQrQ,EAAKoQ,aAAaE,eAC1BC,eAAgBvQ,EAAKoQ,aAAaG,eAClCC,eAAgBxQ,EAAKoQ,aAAaI,eAClCpG,UAAWpK,EAAKoQ,aAAahG,UAC7BC,SAAUrK,EAAKoQ,aAAa/F,SAC5BN,YAAa/J,EAAKoQ,aAAarG,YAC/BO,QAAStK,EAAKoQ,aAAa9F,cACzB3B,EACJ8H,aAAczQ,EAAKyQ,aAAe,CAChCC,OAAQ1Q,EAAKyQ,aAAaC,OAC1BC,MAAO3Q,EAAKyQ,aAAaE,MACzBC,WAAY5Q,EAAKyQ,aAAaG,iBAC5BjI,EACJkI,aAAc7Q,EAAK8Q,MAAQ,CACzBC,YAAa/R,KAAKgS,aAAahR,EAAK8Q,MAAMH,OAC1CM,QAASjR,EAAK8Q,MAAMG,QAAQjK,IAAK9D,IAAW,CAC1ChD,KAAMgD,EAAOc,KACbkN,KAAMhO,EAAOgO,KACbC,YAAajO,EAAOiO,qBAEpBxI,GA3BY,CAAA,CA6BpB,CAEQ,mBAAOoH,CAAa/P,GAC1B,OAAKA,EAEE,CACL4D,KAAM5D,EAAK4D,MAAQ,eACnBH,QAASzD,EAAKyD,SAAW,4BACzBK,QAAS9D,EAAK8D,QACdiB,SAAU,UANM,CAAEnB,KAAM,gBAAiBH,QAAS,yBAQtD,CAEQ,6BAAOuM,CAAuBhQ,GACpC,MAAO,CACLoR,KAAMpR,GAAMoR,MAAQ,UACpBC,QAASrR,GAAMqR,SAAW,UAC1BlR,WAAW,IAAIC,MAAO6H,cAE1B,CAEQ,sBAAOgI,CAAgBjQ,GAC7B,MAAO,CACL0Q,OAAQ1Q,GAAM0Q,SAAU,EACxBC,MAAO3Q,GAAM2Q,OAAS,EACtBC,WAAY5Q,GAAM4Q,YAAc,MAChCzQ,WAAW,IAAIC,MAAO6H,cAE1B,CAEQ,oBAAOiI,CAAclQ,GAC3B,MAAO,CACLsR,UAAWtR,GAAMwC,IACjB+O,WAAYvR,GAAMuR,WAClBC,UAAWxR,GAAMwR,UAErB,CAEQ,mBAAOR,CAAaL,GAC1B,OAAIA,EAAQ,GAAW,MACnBA,EAAQ,GAAW,SAChB,MACT,CAEO,qBAAOc,CAAeC,GAC3B,IAAKA,EAAa,OAAO,KAEzB,MAAMC,EAAWD,EAAYE,sBAAsBD,UACnCD,EAAYG,oBAAoBF,UAChC,SAEhB,MAAO,CACL7P,UAAW4P,EAAYvB,YACvBpL,SAAU,SACVlB,OAA+B,aAAvB6N,EAAY7N,OAAwB,YAAc,SAC1D8N,SAAU3S,KAAK8S,YAAYH,GAC3BvB,aAAcsB,EAAYE,qBAAuB,CAC/C1R,KAAMwR,EAAYE,qBAAqBG,gBACpCL,EAAYE,qBAAqBI,qBAClCrJ,EACJ8H,aAAciB,EAAYG,mBAAqB,CAC7CnB,OAAoD,WAA5CgB,EAAYG,mBAAmBF,SACvChB,MAAOe,EAAYG,mBAAmBI,cACtCrB,WAAY5R,KAAKkT,cAAcR,EAAYG,mBAAmBI,qBAC5DtJ,EACJkI,aAAca,EAAYZ,MAAQ,CAChCC,YAAa/R,KAAKgS,aAAaU,EAAYZ,MAAMH,OACjDM,QAASS,EAAYZ,MAAMG,QAAQjK,IAAK9D,IAAc,CACpDhD,KAAMgD,EACNgO,KAAM,SACNC,YAAajO,WAEbyF,EACJwJ,YAAa,IAAI/R,KAAKsR,EAAYU,WAEtC,CAEQ,kBAAON,CAAYH,GACzB,OAAQA,GACN,IAAK,SACH,MAAO,WACT,IAAK,SACH,MAAO,WACT,QACE,MAAO,SAEb,CAEQ,oBAAOO,CAAcvB,GAC3B,OAAIA,GAAS,GAAW,OACpBA,GAAS,GAAW,SACjB,KACT,EA5KelB,EAAAG,SAA4C,CACzDyC,KAAM/D,EACNgE,MAAOhE,EACPiE,MAAOjE,EACPkE,uBAAwBlE,EACxBmE,sBAAuBnE,EACvBoE,oBAAqBpE,EACrBqE,eAAgBrE,EAChBsE,oBAAqBtE,EACrBuE,kBAAmBvE,EACnBwE,SAAUxE,EACVhO,MAAOgO,EACPyE,MAAOzE,EACP0E,kBAAmB,oBACnBC,eAAgB,qECNd,cAA8BlH,EAY1B,oBAAAmH,CAAqBnQ,GAE3B,OAAIA,EAASoQ,aACJ,kEAILpQ,EAASqQ,eACJ,2EAIF,2DACT,CAEA,WAAArU,GACEuJ,QA3BctJ,KAAAgF,KAAO,SACPhF,KAAAqU,QAAU,QACnBrU,KAAAuG,kBAAoB,IAAI4I,EAAiBC,OAAO7I,mBAG/CvG,KAAAkH,cAAuC,KACvClH,KAAAsU,cAAuC,KAsB7CtU,KAAKmH,UAAYwI,EAAgBE,aACnC,CAEO,aAAMlI,GACX,IACE3H,KAAKmN,OAAOvE,KAAK,8BAEZ5I,KAAKmH,YACRnH,KAAKmH,UAAYwI,EAAgBE,eAEnC7P,KAAKkH,oBAAsBlH,KAAKmH,UAAUL,OAC1C9G,KAAKgN,WAAY,EACjBhN,KAAKmN,OAAOvE,KAAK,uCACjB5I,KAAK6O,kBAAkB,kBAAmB,CAAE9I,SAAU/F,KAAKgF,MAC7D,CAAE,MAAO1D,GACPtB,KAAKgN,WAAY,EACjBhN,KAAK8O,oBAAoBxN,EAAO,UAClC,CACF,CAEO,4BAAMiT,CACXpR,GAEA,IAKE,GAJAnD,KAAKiP,oBAAoB9L,GAIpBuK,OAAeqC,eAAiB/D,SAASC,cAAc,yBAA0B,CAIpF,GAHAjM,KAAKmN,OAAOvE,KAAK,wEAGbzF,EAAQ4I,qBAAqBG,YAC/B,KAAO/I,EAAQ4I,UAAUyI,YACvBrR,EAAQ4I,UAAU6C,YAAYzL,EAAQ4I,UAAUyI,YAKpDxI,SAASuE,iBAAiB,+CAA+ClP,QAAQoT,IAC/EA,EAAGjE,WAIiB,CAAC,gBAAiB,SAAU,SAAU,UAC9CnP,QAAQmM,IACfE,OAAeF,WACVE,OAAeF,KAK3BxB,SAASuE,iBAAiB,oCAAoClP,QAAQsM,IACpEA,EAAO6C,WAITxQ,KAAKgN,WAAY,EACjBhN,KAAKkH,cAAgB,KACjBlH,KAAKmH,YACPnH,KAAKmH,UAAUlB,UACfjG,KAAKmH,UAAYwI,EAAgBE,qBAI7B,IAAIpK,QAAQC,GAAW9B,WAAW8B,EAAS,YAG3C1F,KAAK2H,SACb,CAEA,IAAK3H,KAAKkH,cACR,MAAM,IAAI0C,EAAc5J,KAAKgF,KAAM,8BAGrChF,KAAKmN,OAAOvE,KAAK,mCAAoC,CACnD9F,UAAWK,EAAQL,UACnB4R,SAAU1U,KAAKkH,cACfyN,eAAgB3U,KAAKkH,cACrB0N,QAAS5U,KAAKkH,cAAgBwE,OAAO1J,KAAKhC,KAAKkH,eAAiB,KAIlE,MAAM2N,EAAS1R,EAAQjB,QAAQ4S,WAAa3R,EAAQjB,QAAQ2S,OAC5D,IAAKA,EACH,MAAM,IAAIjL,EAAc5J,KAAKgF,KAAM,iDAIrC,MAAM+P,EAAuB5R,EAAQ+L,MACrC,IAAK6F,EACH,MAAM,IAAInL,EAAc5J,KAAKgF,KAAM,oCAIrC,MAAMgQ,EAAchV,KAAKoO,kBAAkBjL,EAAQ4I,UAAW5I,EAAQgJ,MAGhE8I,EAAkC,CACtCC,WAAa9U,IACXJ,KAAKmN,OAAOvE,KAAK,wBAAyBxI,GAC1CJ,KAAKmV,oBAAoB/U,EAAO+C,EAAQL,YAE1CsS,UAAYrR,IAMV,GALA/D,KAAKmN,OAAOvE,KAAK,gCAAiC7E,GAK9C,WAAYA,GAAgC,uBAApBA,EAASc,OAEnC7E,KAAKmV,oBAAoBpR,EAAUZ,EAAQL,gBAM7C,KAAM,WAAYiB,IAAiC,uBAApBA,EAASc,OAAiC,CACvE,MAAMwQ,EAAc5E,EAAkBrD,SAAS,CAC7ClM,KAAM,WACNF,KAAM+C,EACN5C,UAAWC,KAAKyG,QAEdwN,GACFrV,KAAK6O,kBAAkBwG,EAAYnU,KAAMmU,EAAYrU,MAEvD,MAAMsU,EAAoB,CACxBxS,UAAWK,EAAQL,UACnB2B,QAAS,4DACT8Q,OAAQxR,GAEV/D,KAAK6O,kBAAkB,yBAA0ByG,EACnD,GAEFE,QAAUlU,IAIR,GAHAtB,KAAKmN,OAAO7L,MAAM,4BAA6BA,KAG3C,WAAYA,IAA2B,qBAAjBA,EAAMuD,QAAkD,4BAAjBvD,EAAMuD,OAahE,CAEL,MAAMwQ,EAAc5E,EAAkBrD,SAAS,CAC7ClM,KAAM,QACNF,KAAMM,EACNH,UAAWC,KAAKyG,QAEdwN,GACFrV,KAAK6O,kBAAkBwG,EAAYnU,KAAMmU,EAAYrU,MAGnD,SAAUM,GAAwB,mBAAfA,EAAMsD,MAC3B5E,KAAK6O,kBAAkB,YAAa,CAAE/L,UAAWK,EAAQL,WAE7D,KA3B8G,CAC5G,MAAM2S,EAA6B,qBAAjBnU,EAAMuD,OAAgC,iBAAmB,gBAC3E7E,KAAK6O,kBAAkB,sBAAuB,CAC5C/L,UAAWK,EAAQL,UACnBxB,MAAO,CACLsD,KAAM6Q,EACNhR,QAASnD,EAAMuD,OAAOzC,QAAQ,KAAM,KAAKsT,cACzCX,qBAAsBzT,EAAMyT,wBAGX,qBAAjBzT,EAAMuD,QACR7E,KAAK6O,kBAAkB,YAAa,CAAE/L,UAAWK,EAAQL,WAE7D,GAgBF6S,aAAcxS,EAAQjB,QAAQ0T,SAAU,GAKpCC,EAAc,oBAAoBzU,KAAKyG,QAC7CmN,EAAYc,GAAKD,EACjB,MAAME,EAAoB,IAAIF,IAG9B,IAAIG,EACJ,IACEA,EAAUhW,KAAKkH,cAAc+O,OAC3BpB,EACAE,EACAgB,EACAd,EAEJ,CAAE,MAAOiB,GACP,MAAMA,CACR,CAIElW,KAAKsU,cADH0B,GAA8B,iBAAZA,EACCA,EAGA,CACnBF,GAAI3S,EAAQL,UACZ+B,OAAQ,SACRoB,QAAS,KAEPjG,KAAKmN,OAAOvE,KAAK,+BAMvB,MAAMuN,EAA0C,CAC9CpK,UAAWiJ,EACXlS,UAAWK,EAAQL,UACnBiD,SAAU/F,KAAKgF,KACfiB,QAAS,KACPjG,KAAKoW,iBACLpW,KAAK0O,kBAAkBsG,KAY3B,OARAhV,KAAKiN,SAAWkJ,EAChBnW,KAAK6O,kBAAkB,aAAc,CAAE/L,UAAWK,EAAQL,YAG1Dc,WAAW,KACT5D,KAAK6O,kBAAkB,WAAY,CAAE/L,UAAWK,EAAQL,aACvD,KAEIqT,CACT,CAAE,MAAO7U,GACPtB,KAAK8O,oBAAoBxN,EAAO,yBAClC,CACF,CAEO,kBAAA+U,CAAmBrV,GACxB,IACE,MAAMsV,EAAa7F,EAAkBgC,eAAezR,GAEpD,MAAO,CACL6D,OAAQyR,EAAWzR,OACnB8N,SAAU2D,EAAW3D,SACrB3R,KAAM,CACJoQ,aAAckF,EAAWlF,aACzBK,aAAc6E,EAAW7E,aACzBI,aAAcyE,EAAWzE,cAE3B0E,SAAU,CACRxQ,SAAU/F,KAAKgF,KACfwR,aAAa,IAAIpV,MAAO6H,eAG9B,CAAE,MAAO3H,GAEP,MADAtB,KAAKmN,OAAO7L,MAAM,iCAAkCA,GAC9C,IAAIsI,EAAc5J,KAAKgF,KAAM,iCACrC,CACF,CAEO,QAAAoI,CAAShN,GACd,OAAOqQ,EAAkBrD,SAAShN,EACpC,CAEU,UAAAkN,GACRtN,KAAKoW,iBAGiBpK,SAASuE,iBAAiB,+CAClClP,QAAQoV,IACpBzW,KAAKmN,OAAOvE,KAAK,mCACjB6N,EAAOjG,WAIa,CAAC,gBAAiB,SAAU,SAAU,UAC9CnP,QAAQmM,IACfE,OAAeF,KAClBxN,KAAKmN,OAAOvE,KAAK,mBAAmB4E,YAC5BE,OAAeF,MAKFxB,SAASuE,iBAAiB,mDAClClP,QAAQ0K,IACvB/L,KAAKmN,OAAOvE,KAAK,sCACjBmD,EAAUyE,WAIZxQ,KAAKmH,UAAUlB,UACfjG,KAAKkH,cAAgB,IACvB,CAEQ,mBAAAiO,CAAoB/U,EAAgC0C,GAE1D,GAAI1C,EAAMyE,OAAQ,CAChB,MAMM6R,EANwC,CAC5CC,6BAAgC,oBAChCC,mBAAsB,uBACtBC,mBAAsB,0BAGSzW,EAAMyE,SAAW,wBAGlD,GAAqB,uBAAjBzE,EAAMyE,OAAiC,CACzC,MAEMiS,EAAY,CAChBhU,YACA2B,QAJwBzE,KAAKkU,qBAAqB9T,GAKlDmV,OAAQ,CACN1Q,OAAQ,YACRkQ,qBAAsB3U,EAAM2U,qBAC5BgC,mBAAoB3W,EAAM2W,mBAC1B3C,eAAgBhU,EAAMgU,iBAI1BpU,KAAK6O,kBAAkB,yBAA0BiI,EACnD,MAEE9W,KAAK6O,kBAAkB6H,EAAY,CACjC5T,YACA+B,OAAQzE,EAAMyE,OACdkQ,qBAAsB3U,EAAM2U,qBAC5BX,eAAgBhU,EAAMgU,eACtBD,aAAc/T,EAAM+T,eAItBnU,KAAK6O,kBAAkB,wBAAyB,CAC9C/L,YACAkU,KAAM5W,EAAMyE,OACZoS,WAA6B,iCAAjB7W,EAAMyE,OAA4C,GAAK,GACnEJ,QAASrE,EAAMyE,OAAOzC,QAAQ,KAAM,KAAKsT,eAG/C,MAEE1V,KAAKmN,OAAOxE,KAAK,2DAA4DvI,EAEjF,CAMQ,cAAAgW,GACN,GAAIpW,KAAKsU,cAAe,CACtB,IACEtU,KAAKsU,cAAcrO,SACrB,CAAE,MAAO3E,GACPtB,KAAKmN,OAAO7L,MAAM,kCAAmCA,EACvD,CACAtB,KAAKsU,cAAgB,IACvB,CACF,0BRzWI,cAAkCjL,EACtC,WAAAtJ,CAAY0E,EAAiBK,GAC3BwE,MAAM,sBAAuB7E,OAASkF,EAAW7E,GACjD9E,KAAKgF,KAAO,oBACd,YEToB,CAEpBkS,SAAU,WACVC,UAAW,YACXC,UAAW,YACXC,YAAa,cAGbC,gBAAiB,kBACjBC,eAAgB,iBAChBC,eAAgB,iBAChBC,eAAgB,iBAGhBC,qBAAsB,uBACtBC,qBAAsB,uBACtBC,sBAAuB,wBACvBC,uBAAwB,yBACxBC,oBAAqB,sBACrBC,uBAAwB,yBACxBC,qBAAsB,uBAGtBC,WAAY,aACZC,SAAU,WACVC,SAAU,WACVC,UAAW,YACXC,aAAc,6BFoBU,CAExBC,gBAAiB,kBACjBC,eAAgB,iBAChBC,eAAgB,iBAGhBC,oBAAqB,sBACrBC,gBAAiB,kBACjBC,wBAAyB,0BAGzBC,mBAAoB,qBACpBC,qBAAsB,uBACtBC,yBAA0B,2BAC1BC,qBAAsB,uBACtBC,uBAAwB,yBAGxBC,kBAAmB,oBACnBC,gBAAiB,kBACjBC,sBAAuB,wBACvBC,uBAAwB,yBAGxBtB,oBAAqB,sBACrBC,uBAAwB,yBACxBsB,qBAAsB,uBAGtBC,kBAAmB,oBACnBC,eAAgB,iBAChBlB,aAAc,eAGdmB,cAAe,gBACfC,cAAe,gBACfC,UAAW,YAGXC,gBAAiB,kBACjBC,kBAAmB,oBACnBC,uBAAwB,qEAtEpB,cAA4BxQ,EAChC,WAAAtJ,CAAY0E,EAAiBK,GAC3BwE,MAAM,gBAAiB7E,OAASkF,EAAW7E,GAC3C9E,KAAKgF,KAAO,cACd,uBSmB+B,CAC/B8U,sBAAuB,wBACvBC,eAAgB,iBAChBC,WAAY,aACZC,qBAAsB,uBACtBC,eAAgB,iBAChBC,mBAAoB,qBACpBC,mBAAoB,qBACpBC,gBAAiB,kBACjBC,mBAAoB,mDP3EE,kCADG,8BOiEwB,CAAC,SAAU,SAAU,QAAS,SAAU,yBTPrF,cAA4BjR,EAChC,WAAAtJ,CAAY0E,EAAiB3B,GAC3BwG,MAAM,gBAAiB7E,OAASkF,EAAW,CAAE7G,cAC7C9C,KAAKgF,KAAO,cACd,sEUnCA,WAAAjF,CAAYmC,GAHJlC,KAAAua,aAAuB,EAK7BzQ,EAAe5H,GACflC,KAAKkC,OAAS,IAAK2K,KAAmB3K,GAGtClC,KAAKkN,aAAe,IAAIpN,EACxBE,KAAKmN,OAAS,IAAI7E,EAAOtI,KAAKkC,OAAOsI,SAAUxK,KAAKkC,OAAO2G,OAC3D7I,KAAKwa,iBAAmB,IAAI5U,EAC5B5F,KAAKya,eAAiB,IAAI/T,EAAe1G,KAAKwa,iBAAkBxa,MAChEA,KAAK0a,eAAiB,IAAIxa,IAG1B,MAAMya,EAAwB,CAC5BxY,QAASnC,KAAKkC,OAAO8H,OACrB1H,OAAQtC,KAAKkC,OAAOI,OACpBwB,QAAS9D,KAAKkC,OAAO4B,QACrBT,WAAYrD,KAAKkC,OAAOmB,WACxBC,WAAY,KAEdtD,KAAK4a,UAAY,IAAI3Y,EAAU0Y,GAE/B3a,KAAKmN,OAAOvE,KAAK,0BACnB,CAEO,UAAMyK,GACX,GAAIrT,KAAKua,YACPva,KAAKmN,OAAOxE,KAAK,gCAInB,IACE3I,KAAKkN,aAAanM,KAAK,YAGvB,MAAMgD,QAAiB/D,KAAK4a,UAAUrY,0BAA0B,CAC9DsI,MAAM,IAGR,IAAK9G,EAASY,QACZ,MAAM,IAAI0E,EACR,kBACA,6BAA6BtF,EAASzC,OAAOmD,WAIjDzE,KAAKua,aAAc,EACnBva,KAAKkN,aAAanM,KAAK,aACvBf,KAAKmN,OAAOvE,KAAK,+BACnB,CAAE,MAAOtH,GAOP,MANAtB,KAAKmN,OAAO7L,MAAM,2BAA4BA,GAC9CtB,KAAKkN,aAAanM,KAAK,YAAa,CAClC6D,KAAM,kBACNH,QAASnD,aAAiByD,MAAQzD,EAAMmD,QAAU,gBAClDK,QAASxD,IAELA,CACR,CACF,CAEO,wBAAMuZ,CACX1X,GAEA,IAAKnD,KAAKua,YACR,MAAM,IAAIlR,EAAU,sBAAuB,wDAG7C,IAEEoB,EAA4BtH,GAE5BnD,KAAKmN,OAAOvE,KAAK,gCAAiC,CAAEzF,YAGpD,MAAMY,QAAiB/D,KAAK4a,UAAUrY,0BAA0B,CAC9DoI,SAAUxH,EAAQuH,KAClB0B,kBAAmBjJ,EAAQiJ,kBAC3BC,iBAAkBlJ,EAAQkJ,iBAC1BG,iBAAkBrJ,EAAQqJ,iBAC1B+J,SAAUpT,EAAQoT,WAGpB,IAAKxS,EAASY,UAAYZ,EAAS/C,KACjC,MAAM,IAAIqI,EACR,wBACAtF,EAASzC,OAAOmD,SAAW,yCAI/B,MAAMuR,EAAUjS,EAAS/C,KACzBhB,KAAK0a,eAAena,IAAIyV,EAAQF,GAAIE,GAGpC,MAAMjQ,QAAiB/F,KAAKya,eAAe3T,KAAKkP,EAAQjQ,UAMxD/F,KAAK8a,+BAA+B9E,EAAQF,GAAI3S,GAGhD,MAAM4I,EAAY/L,KAAK+a,iBAAiB5X,EAAQ4I,WAC1CiP,QAAWjV,EAASwO,uBAAuB,CAC/CzR,UAAWkT,EAAQF,GACnB5G,MAAO8G,EAAQiF,mBAAqB,GACpClP,YACAI,KAAMhJ,EAAQgJ,MAAQ,WACtB7B,MAAOtK,KAAKkC,OAAOoI,MACnBC,SAAUvK,KAAKkC,OAAOqI,SACtBI,SAAUxH,EAAQuH,KAClBxI,OAAQiB,EAAQ+X,iBAMlB,OAHAlb,KAAKkN,aAAanM,KAAK,uBAAwB,CAAEiV,UAASgF,OAC1Dhb,KAAKmN,OAAOvE,KAAK,+BAAgC,CAAE9F,UAAWkT,EAAQF,KAE/DE,CACT,CAAE,MAAO1U,GAKP,MAJAtB,KAAKmN,OAAO7L,MAAM,gCAAiCA,GACnDtB,KAAKkN,aAAanM,KAAK,sBAAuB,CAC5CO,MAAOA,aAAiByD,MAAQzD,EAAMmD,QAAU,kBAE5CnD,CACR,CACF,CAEO,2BAAM6Z,CAAsBrY,GACjC,MAAMiB,QAAiB/D,KAAK4a,UAAU/X,uBAAuBC,GAE7D,IAAKiB,EAASY,UAAYZ,EAAS/C,KACjC,MAAM,IAAIqI,EACR,oBACA,wBAAwBvG,eAI5B,OAAOiB,EAAS/C,KAAK6D,MACvB,CAEO,2BAAM7B,CAAsBF,GACjC,MAAMiB,QAAiB/D,KAAK4a,UAAU5X,sBAAsBF,GAE5D,IAAKiB,EAASY,UAAYZ,EAAS/C,KACjC,MAAM,IAAIqI,EACR,mBACA,mCAAmCvG,eAIvC,OAAOiB,EAAS/C,IAClB,CAEO,wBAAMiC,CAAmBH,GAE9B,IADgB9C,KAAK0a,eAAeja,IAAIqC,GAEtC,MAAM,IAAIuG,EACR,oBACA,kBAAkBvG,qBAIhB9C,KAAK4a,UAAU3X,mBAAmBH,GACxC9C,KAAK0a,eAAe7Z,OAAOiC,GAC3B9C,KAAKkN,aAAanM,KAAK,yBAA0B,CAAE+B,aACrD,CAEO,EAAA3C,CAAGC,EAAeC,GACvBL,KAAKkN,aAAa/M,GAAGC,EAAOC,EAC9B,CAEO,GAAAM,CAAIP,EAAeC,GACxBL,KAAKkN,aAAavM,IAAIP,EAAOC,EAC/B,CAEO,IAAAkB,CAAKnB,EAAeC,GACzBL,KAAKkN,aAAa3L,KAAKnB,EAAOC,EAChC,CAEA,wBAAW+a,GACT,OAAOpb,KAAKkN,YACd,CAEO,qBAAAmO,GACL,OAAOrb,KAAKwa,iBAAiBtU,QAC/B,CAEO,WAAAoV,CAAYtW,GACjB,OAAOhF,KAAKwa,iBAAiB/Z,IAAIuE,IAAS,IAC5C,CAEO,OAAAiB,GAELjG,KAAK0a,eAAerZ,QAAS2U,IAC3BhW,KAAKiD,mBAAmB+S,EAAQF,IAAIyF,MAAOja,IACzCtB,KAAKmN,OAAO7L,MAAM,4BAA4B0U,EAAQF,KAAMxU,OAKhEtB,KAAKwa,iBAAiB7Y,QAGtB3B,KAAKkN,aAAaxL,qBAElB1B,KAAKua,aAAc,EACnBva,KAAKkN,aAAanM,KAAK,eACvBf,KAAKmN,OAAOvE,KAAK,gBACnB,CAEQ,gBAAAmS,CAAiBhP,GACvB,IAAKA,EAAW,CACd,MAAMyP,EAAMxP,SAAS4B,cAAc,OAGnC,OAFA4N,EAAI1F,GAAK,qBACT9J,SAAStJ,KAAKyL,YAAYqN,GACnBA,CACT,CAEA,GAAyB,iBAAdzP,EAAwB,CACjC,MAAM0D,EAAUzD,SAASC,cAAcF,GACvC,KAAK0D,GAAaA,aAAmBvD,aACnC,MAAM,IAAI7C,EACR,oBACA,sBAAsB0C,gBAG1B,OAAO0D,CACT,CAEA,OAAO1D,CACT,CAEQ,8BAAA+O,CACNhY,EACAK,GAEIA,EAAQsY,SACVzb,KAAKkN,aAAa3L,KAAK,WAAY4B,EAAQsY,SAGzCtY,EAAQ+R,YACVlV,KAAKkN,aAAa/M,GAAG,wBAA0BC,IAC7C,GAAIA,EAAMY,MAA8B,iBAAfZ,EAAMY,MAAqB,cAAeZ,EAAMY,KAAM,CAC7E,MAAMA,EAAOZ,EAAMY,KACfA,EAAK8B,YAAcA,GACrBK,EAAQ+R,WAAY,CAClB8B,KAAMhW,EAAKgW,KACXC,WAAYjW,EAAKiW,WACjBxS,QAASzD,EAAKyD,SAGpB,IAIAtB,EAAQuY,YACV1b,KAAKkN,aAAa3L,KAAK,yBAA0BuM,MAAO1N,IACtD,GAAIA,EAAMY,MAA8B,iBAAfZ,EAAMY,MAAqB,cAAeZ,EAAMY,KAAM,CAE7E,GADaZ,EAAMY,KACV8B,YAAcA,EAAW,CAChC,MAAMyS,QAAevV,KAAKgD,sBAAsBF,GAChDK,EAAQuY,WAAYnG,EACtB,CACF,IAIApS,EAAQqS,SACVxV,KAAKkN,aAAa/M,GAAG,sBAAwBC,IAC3C,GAAIA,EAAMY,MAA8B,iBAAfZ,EAAMY,MAAqB,cAAeZ,EAAMY,KAAM,CAC7E,MAAMA,EAAOZ,EAAMY,KACfA,EAAK8B,YAAcA,GACrBK,EAAQqS,QAAS,IAAIzQ,MAAM/D,EAAKM,OAEpC,IAIA6B,EAAQwY,UACV3b,KAAKkN,aAAa3L,KAAK,yBAA2BnB,IAChD,GAAIA,EAAMY,MAA8B,iBAAfZ,EAAMY,MAAqB,cAAeZ,EAAMY,KAAM,CAChEZ,EAAMY,KACV8B,YAAcA,GACrBK,EAAQwY,UAEZ,GAGN,CAMO,4BAAA/T,CAA6B7B,EAAqB6V,GAGtD7V,EAAiB5F,GAAG,yBAA2BC,IAC9CJ,KAAKkN,aAAanM,KAAK,yBAA0BX,KAGlD2F,EAAiB5F,GAAG,sBAAwBC,IAC3CJ,KAAKkN,aAAanM,KAAK,sBAAuBX,KAG/C2F,EAAiB5F,GAAG,wBAA0BC,IAC7CJ,KAAKkN,aAAanM,KAAK,wBAAyBX,KAGjD2F,EAAiB5F,GAAG,WAAaC,IAChCJ,KAAKkN,aAAanM,KAAK,WAAYX,KAGpC2F,EAAiB5F,GAAG,YAAcC,IACjCJ,KAAKkN,aAAanM,KAAK,YAAaX,KAIrC2F,EAAiB5F,GAAG,IAAMC,IACzBJ,KAAKkN,aAAanM,KAAK,iBAAkBX,IAE7C"}