{"version":3,"file":"index.js","sources":["../src/core/EventEmitter.ts","../src/core/APIClient.ts","../src/core/ProviderRegistry.ts","../src/core/ProviderLoader.ts","../src/utils/logger.ts","../src/utils/errors.ts","../src/utils/validators.ts","../src/constants/index.ts","../src/types/providers.ts","../src/core/VecuIDV.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null],"names":["EventEmitter","constructor","this","events","Map","on","event","handler","has","set","Set","get","add","off","handlers","delete","size","emit","data","vecuEvent","type","timestamp","Date","forEach","error","once","onceHandler","evt","removeAllListeners","clear","listenerCount","eventNames","Array","from","keys","APIClient","config","baseUrl","replace","baseHeaders","apiKey","createVerificationSession","request","method","body","JSON","stringify","getVerificationSession","sessionId","updateVerificationSession","getVerificationResult","cancelVerification","endpoint","options","retries","maxRetries","retryDelay","fetchOptions","url","controller","AbortController","timeoutId","setTimeout","abort","timeout","response","fetchWithRetry","headers","signal","clearTimeout","contentType","isJson","includes","ok","json","message","text","success","code","status","details","Error","name","lastError","attempt","fetch","statusText","delay","Math","pow","random","Promise","resolve","updateConfig","ProviderRegistry","providers","register","provider","unregister","destroy","getAll","values","getByFeature","feature","filter","supportedFeatures","getLoadedProviders","isLoaded","ProviderLoader","registry","sdkInstance","loadingPromises","load","existingPromise","existingProvider","socureProvider","socureDocVSDK","sdkLoader","loadPromise","loadProvider","providerModule","importProvider","ProviderClass","default","capitalize","loadSDK","setupProviderEventForwarding","now","then","require","map","p","str","charAt","toUpperCase","slice","Logger","level","enabled","prefix","logLevels","warn","info","debug","args","log","shouldLog","toISOString","setLevel","setEnabled","createChildLogger","VecuError","super","captureStackTrace","toJSON","stack","ValidationError","undefined","validateConfig","length","apiUrl","parsed","URL","protocol","isValidUrl","environment","theme","language","logLevel","validateVerificationOptions","user","userData","email","test","phone","dateOfBirth","date","isNaN","getTime","isValidDate","firstName","lastName","address","validFields","key","value","Object","entries","postalCode","validateAddress","validateUserData","container","document","querySelector","HTMLElement","mode","preferredProvider","excludeProviders","isArray","every","requiredFeatures","f","callbacks","callback","validateCallbacks","DEFAULT_CONFIG","autoRetry","SDK_INIT","SDK_READY","SDK_ERROR","SDK_DESTROY","PROVIDER_LOADED","PROVIDER_READY","PROVIDER_ERROR","PROVIDER_EVENT","VERIFICATION_CREATED","VERIFICATION_STARTED","VERIFICATION_PROGRESS","VERIFICATION_COMPLETED","VERIFICATION_FAILED","VERIFICATION_CANCELLED","VERIFICATION_EXPIRED","UI_CREATED","UI_READY","UI_ERROR","UI_CLOSED","UI_DESTROYED","INVALID_API_KEY","MISSING_CONFIG","INVALID_CONFIG","SDK_NOT_INITIALIZED","SDK_INIT_FAILED","SDK_ALREADY_INITIALIZED","PROVIDER_NOT_FOUND","PROVIDER_LOAD_FAILED","PROVIDER_SDK_LOAD_FAILED","PROVIDER_INIT_FAILED","PROVIDER_NOT_SUPPORTED","SESSION_NOT_FOUND","SESSION_EXPIRED","SESSION_CREATE_FAILED","SESSION_ALREADY_EXISTS","VERIFICATION_TIMEOUT","INVALID_CONTAINER","UI_INIT_FAILED","NETWORK_ERROR","TIMEOUT_ERROR","API_ERROR","INVALID_OPTIONS","INVALID_USER_DATA","MISSING_REQUIRED_FIELD","DOCUMENT_VERIFICATION","LIVENESS_CHECK","FACE_MATCH","ADDRESS_VERIFICATION","DATABASE_CHECK","PHONE_VERIFICATION","EMAIL_VERIFICATION","QR_CODE_HANDOFF","VIDEO_VERIFICATION","initialized","eventEmitter","logger","providerRegistry","providerLoader","activeSessions","apiConfig","apiClient","init","createVerification","metadata","session","id","setupVerificationEventHandlers","resolveContainer","ui","initializeVerification","token","providerSessionId","providerConfig","getVerificationStatus","eventEmitterInstance","getAvailableProviders","getProvider","catch","div","createElement","appendChild","element","onReady","onProgress","step","percentage","onComplete","async","result","onError","onCancel","_sessionId"],"mappings":"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"}