{"version":3,"file":"index.esm.js","sources":["../src/core/EventEmitter.ts","../src/core/APIClient.ts","../src/core/ProviderRegistry.ts","../src/core/ProviderLoader.ts","../src/utils/logger.ts","../src/utils/errors.ts","../src/utils/validators.ts","../src/constants/index.ts","../src/core/VecuIDV.ts","../src/types/providers.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null],"names":["EventEmitter","constructor","this","events","Map","on","event","handler","has","set","Set","get","add","off","handlers","delete","size","emit","data","vecuEvent","type","timestamp","Date","forEach","error","once","onceHandler","evt","removeAllListeners","clear","listenerCount","eventNames","Array","from","keys","APIClient","config","baseUrl","replace","baseHeaders","apiKey","createVerificationSession","request","method","body","JSON","stringify","getVerificationSession","sessionId","updateVerificationSession","getVerificationResult","cancelVerification","endpoint","options","retries","maxRetries","retryDelay","fetchOptions","url","controller","AbortController","timeoutId","setTimeout","abort","timeout","response","fetchWithRetry","headers","signal","clearTimeout","contentType","isJson","includes","ok","json","message","text","success","code","status","details","Error","name","lastError","attempt","fetch","statusText","delay","Math","pow","random","Promise","resolve","updateConfig","ProviderRegistry","providers","register","provider","unregister","destroy","getAll","values","getByFeature","feature","filter","supportedFeatures","getLoadedProviders","isLoaded","ProviderLoader","registry","loadingPromises","load","existingPromise","existingProvider","loadPromise","loadProvider","providerModule","importProvider","ProviderClass","default","capitalize","loadSDK","import","map","p","str","charAt","toUpperCase","slice","Logger","level","enabled","prefix","logLevels","warn","info","debug","args","log","shouldLog","toISOString","setLevel","setEnabled","createChildLogger","VecuError","super","captureStackTrace","toJSON","stack","ConfigurationError","undefined","ValidationError","NetworkError","ProviderError","SessionError","TimeoutError","ErrorCodes","INVALID_API_KEY","MISSING_CONFIG","INVALID_CONFIG","SDK_NOT_INITIALIZED","SDK_INIT_FAILED","SDK_ALREADY_INITIALIZED","PROVIDER_NOT_FOUND","PROVIDER_LOAD_FAILED","PROVIDER_SDK_LOAD_FAILED","PROVIDER_INIT_FAILED","PROVIDER_NOT_SUPPORTED","SESSION_NOT_FOUND","SESSION_EXPIRED","SESSION_CREATE_FAILED","SESSION_ALREADY_EXISTS","VERIFICATION_FAILED","VERIFICATION_CANCELLED","VERIFICATION_TIMEOUT","INVALID_CONTAINER","UI_INIT_FAILED","UI_DESTROYED","NETWORK_ERROR","TIMEOUT_ERROR","API_ERROR","INVALID_OPTIONS","INVALID_USER_DATA","MISSING_REQUIRED_FIELD","validateConfig","length","apiUrl","parsed","URL","protocol","isValidUrl","environment","theme","language","logLevel","validateVerificationOptions","user","userData","email","test","phone","dateOfBirth","date","isNaN","getTime","isValidDate","firstName","lastName","address","validFields","key","value","Object","entries","postalCode","validateAddress","validateUserData","container","document","querySelector","HTMLElement","mode","preferredProvider","excludeProviders","isArray","every","requiredFeatures","f","callbacks","callback","validateCallbacks","SDK_VERSION","SDK_NAME","DEFAULT_CONFIG","autoRetry","EVENTS","SDK_INIT","SDK_READY","SDK_ERROR","SDK_DESTROY","PROVIDER_LOADED","PROVIDER_READY","PROVIDER_ERROR","PROVIDER_EVENT","VERIFICATION_CREATED","VERIFICATION_STARTED","VERIFICATION_PROGRESS","VERIFICATION_COMPLETED","VERIFICATION_EXPIRED","UI_CREATED","UI_READY","UI_ERROR","UI_CLOSED","VecuIDV","initialized","eventEmitter","logger","providerRegistry","providerLoader","activeSessions","apiConfig","apiClient","init","createVerification","metadata","session","id","setupVerificationEventHandlers","resolveContainer","ui","initializeVerification","token","providerSessionId","providerConfig","getVerificationStatus","getAvailableProviders","getProvider","catch","div","createElement","appendChild","element","onReady","onProgress","step","percentage","onComplete","async","result","onError","onCancel","SUPPORTED_PROVIDERS","PROVIDER_FEATURES","DOCUMENT_VERIFICATION","LIVENESS_CHECK","FACE_MATCH","ADDRESS_VERIFICATION","DATABASE_CHECK","PHONE_VERIFICATION","EMAIL_VERIFICATION","QR_CODE_HANDOFF","VIDEO_VERIFICATION"],"mappings":"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"}