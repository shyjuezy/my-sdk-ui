{"version":3,"file":"index.esm.js","sources":["../src/core/EventEmitter.ts","../src/core/APIClient.ts","../src/core/ProviderRegistry.ts","../src/core/ProviderLoader.ts","../src/utils/logger.ts","../src/utils/errors.ts","../src/utils/validators.ts","../src/constants/index.ts","../src/core/VecuIDV.ts","../src/types/providers.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null],"names":["EventEmitter","constructor","this","events","Map","on","event","handler","has","set","Set","get","add","off","handlers","delete","size","emit","data","vecuEvent","type","timestamp","Date","forEach","error","once","onceHandler","evt","removeAllListeners","clear","listenerCount","eventNames","Array","from","keys","APIClient","config","baseUrl","replace","baseHeaders","apiKey","createVerificationSession","request","method","body","JSON","stringify","getVerificationSession","sessionId","updateVerificationSession","getVerificationResult","cancelVerification","endpoint","options","retries","maxRetries","retryDelay","fetchOptions","url","controller","AbortController","timeoutId","setTimeout","abort","timeout","response","fetchWithRetry","headers","signal","clearTimeout","contentType","isJson","includes","ok","json","message","text","success","code","status","details","Error","name","lastError","attempt","fetch","statusText","delay","Math","pow","random","Promise","resolve","updateConfig","ProviderRegistry","providers","register","provider","unregister","destroy","getAll","values","getByFeature","feature","filter","supportedFeatures","getLoadedProviders","isLoaded","ProviderLoader","registry","sdkInstance","loadingPromises","load","existingPromise","existingProvider","socureProvider","socureDocVSDK","sdkLoader","loadPromise","loadProvider","providerModule","importProvider","ProviderClass","default","capitalize","loadSDK","setupProviderEventForwarding","now","import","map","p","str","charAt","toUpperCase","slice","Logger","level","enabled","prefix","logLevels","warn","info","debug","args","log","shouldLog","toISOString","setLevel","setEnabled","createChildLogger","VecuError","super","captureStackTrace","toJSON","stack","ConfigurationError","undefined","ValidationError","NetworkError","ProviderError","SessionError","TimeoutError","ErrorCodes","INVALID_API_KEY","MISSING_CONFIG","INVALID_CONFIG","SDK_NOT_INITIALIZED","SDK_INIT_FAILED","SDK_ALREADY_INITIALIZED","PROVIDER_NOT_FOUND","PROVIDER_LOAD_FAILED","PROVIDER_SDK_LOAD_FAILED","PROVIDER_INIT_FAILED","PROVIDER_NOT_SUPPORTED","SESSION_NOT_FOUND","SESSION_EXPIRED","SESSION_CREATE_FAILED","SESSION_ALREADY_EXISTS","VERIFICATION_FAILED","VERIFICATION_CANCELLED","VERIFICATION_TIMEOUT","INVALID_CONTAINER","UI_INIT_FAILED","UI_DESTROYED","NETWORK_ERROR","TIMEOUT_ERROR","API_ERROR","INVALID_OPTIONS","INVALID_USER_DATA","MISSING_REQUIRED_FIELD","validateConfig","length","apiUrl","parsed","URL","protocol","isValidUrl","environment","theme","language","logLevel","validateVerificationOptions","user","userData","email","test","phone","dateOfBirth","date","isNaN","getTime","isValidDate","firstName","lastName","address","validFields","key","value","Object","entries","postalCode","validateAddress","validateUserData","container","document","querySelector","HTMLElement","mode","preferredProvider","excludeProviders","isArray","every","requiredFeatures","f","callbacks","callback","validateCallbacks","SDK_VERSION","SDK_NAME","DEFAULT_CONFIG","autoRetry","EVENTS","SDK_INIT","SDK_READY","SDK_ERROR","SDK_DESTROY","PROVIDER_LOADED","PROVIDER_READY","PROVIDER_ERROR","PROVIDER_EVENT","VERIFICATION_CREATED","VERIFICATION_STARTED","VERIFICATION_PROGRESS","VERIFICATION_COMPLETED","VERIFICATION_EXPIRED","UI_CREATED","UI_READY","UI_ERROR","UI_CLOSED","VecuIDV","initialized","eventEmitter","logger","providerRegistry","providerLoader","activeSessions","apiConfig","apiClient","init","createVerification","metadata","session","id","setupVerificationEventHandlers","resolveContainer","ui","initializeVerification","token","providerSessionId","providerConfig","getVerificationStatus","eventEmitterInstance","getAvailableProviders","getProvider","catch","div","createElement","appendChild","element","onReady","onProgress","step","percentage","onComplete","async","result","onError","onCancel","_sessionId","SUPPORTED_PROVIDERS","PROVIDER_FEATURES","DOCUMENT_VERIFICATION","LIVENESS_CHECK","FACE_MATCH","ADDRESS_VERIFICATION","DATABASE_CHECK","PHONE_VERIFICATION","EMAIL_VERIFICATION","QR_CODE_HANDOFF","VIDEO_VERIFICATION"],"mappings":"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"}